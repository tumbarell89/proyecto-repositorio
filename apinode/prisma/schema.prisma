generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model envio {
  idenvio        Int             @id @default(autoincrement())
  idrepartidor   Int?
  idestadoenvio  Int?
  nomestadoenvio nomestadoenvio? @relation(fields: [idestadoenvio], references: [idestadoenvio], onDelete: NoAction, onUpdate: NoAction, map: "fkestadipaquete")
  repartidor     repartidor?     @relation(fields: [idrepartidor], references: [idrepartidor], onDelete: NoAction, onUpdate: NoAction, map: "fkidrepartidor")
  paquete        paquete[]
}

model nomestadoenvio {
  idestadoenvio Int     @id @default(autoincrement())
  denominacion  String? @db.VarChar
  envio         envio[]
}

model nomestadopaquete {
  idestadopaquete Int       @id @default(autoincrement())
  denominacion    String?   @db.VarChar
  paquete         paquete[]
}

model nomestadorepartidor {
  idestadorepartidor Int          @id @default(autoincrement())
  denominacion       String?      @db.VarChar
  repartidor         repartidor[]
}

model paquete {
  idpaquete        Int               @id @default(autoincrement())
  lugarrecogida    String?
  municipioregida  String?           @db.VarChar(100)
  barriorecogida   String?           @db.VarChar(100)
  lugarentrega     String?
  municipioentrega String?           @db.VarChar(100)
  barrioentrega    String?           @db.VarChar(100)
  datoscliente     String?
  peso             Decimal?          @db.Decimal
  idproveedor      Int?
  idestadopaquete  Int?
  idenvio          Int?
  envio            envio?            @relation(fields: [idenvio], references: [idenvio], onDelete: NoAction, onUpdate: NoAction, map: "fkenvio")
  nomestadopaquete nomestadopaquete? @relation(fields: [idestadopaquete], references: [idestadopaquete], onDelete: NoAction, onUpdate: NoAction, map: "fkidestadopaquete")
  proveedor        proveedor?        @relation(fields: [idproveedor], references: [idproveedor], onDelete: NoAction, onUpdate: NoAction, map: "fkidproveedir")
}

model proveedor {
  idproveedor Int       @id @default(autoincrement())
  nombre      String?   @db.VarChar(255)
  apellidos   String?   @db.VarChar(255)
  telefono    String?   @db.VarChar(8)
  jwt         String?
  usuario     String    @unique(map: "usuario_ck_pv") @db.VarChar(100)
  password    String    @db.VarChar(500)
  id          Int       @default(autoincrement())
  paquete     paquete[]
}

model repartidor {
  idrepartidor        Int                  @id @default(autoincrement())
  nombre              String?              @db.VarChar(255)
  apellidos           String?              @db.VarChar(255)
  telefono            String?              @db.VarChar(8)
  jwt                 String?
  idestadorepartidor  Int?
  cantpaquetes        Int?
  usuario             String               @unique(map: "usaurio_ck") @db.VarChar(100)
  password            String               @db.VarChar(500)
  envio               envio[]
  nomestadorepartidor nomestadorepartidor? @relation(fields: [idestadorepartidor], references: [idestadorepartidor], onDelete: NoAction, onUpdate: NoAction, map: "fkidestadorepartidor")
}
